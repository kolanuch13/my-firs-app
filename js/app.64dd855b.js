(function(){"use strict";var t={5015:function(t,e,n){n.d(e,{Z:function(){return c}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._t("default",(function(){return[t._v("Default value")]}))],2)},a=[],r={name:"ContainerMain"},i=r,s=n(1001),u=(0,s.Z)(i,o,a,!1,null,"54f29d05",null),c=u.exports},3840:function(t,e,n){var o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("NotificationsMain"),e("div",{staticClass:"content"},[e("HeaderMain"),e("router-view")],1),e("FooterMain")],1)},a=[],r=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("ContainerMain",[e("div",{staticClass:"header__content"},[e("router-link",{attrs:{to:"/"}},[e("LogoMain")],1),t.isLoggedIn?e("AccountActions"):e("AuthActions")],1)])],1)},i=[],s=n(5015),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{staticClass:"logo__image",attrs:{src:n(3296),alt:"logo"}}),t._m(0)])},c=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"logo__text"},[e("span",{staticClass:"logo__text--orange"},[t._v("GO")]),t._v("Home")])}],l={name:"LogoMain"},f=l,d=n(1001),h=(0,d.Z)(f,u,c,!1,null,"752a8d13",null),p=h.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-actions"},[e("router-link",{staticClass:"auth-actions__link",attrs:{to:{name:"login-page"}}},[t._v(" Login ")]),t._v(" / "),e("router-link",{staticClass:"auth-actions__link",attrs:{to:{name:"signIn-page"}}},[t._v(" Sign In ")])],1)},g=[],v={name:"AuthActions"},_=v,b=(0,d.Z)(_,m,g,!1,null,"9cb8558e",null),y=b.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"account-actions",on:{mouseover:t.open,mouseleave:t.close}},[e("button",{staticClass:"account-actions__button",on:{click:t.toggleOpen}},[e("span",{staticClass:"account-actions__text"},[t._v("Profile")]),e("svg",{staticClass:"account-actions__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"}},[e("path",{attrs:{d:"M9 0C6.38286 0 4.25391 2.12896 4.25391 4.74609C4.25391 7.36323 6.38286 9.49219 9 9.49219C11.6171 9.49219 13.7461 7.36323 13.7461 4.74609C13.7461 2.12896 11.6171 0 9 0Z",fill:"white"}}),e("path",{attrs:{d:"M16.8216 14.0161C15.4028 11.8877 13.0282 10.6172 10.4708 10.6172H7.5292C4.9718 10.6172 2.5972 11.8877 1.17844 14.0161L1.08984 14.1489V18H16.9102H16.9102V14.1489L16.8216 14.0161Z",fill:"white"}})])]),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"account-actions__list"},[e("li",{staticClass:"account-actions__item"},[e("router-link",{staticClass:"account-actions__link",attrs:{to:{name:"my-orders"}}},[t._v("My orders")])],1),e("li",{staticClass:"account-actions__item"},[e("button",{staticClass:"account-actions__logout",on:{click:t.hahdleLogout}},[t._v("Logout")])])])])},k=[],w=(n(7658),n(3822)),A={name:"AccountActions",data(){return{isOpen:!1}},methods:{...(0,w.nv)("auth",["logoutUser"]),open(){this.isOpen=!0},close(){this.isOpen=!1},toggleOpen(){this.isOpen=!this.isOpen},async hahdleLogout(){try{await this.logoutUser();const{requiresAuth:t}=this.$route.meta;t&&this.$router.push({name:"login-page"})}catch(t){this.$notify({type:"error",title:"You cannot logout from hereðŸ˜ˆ",text:"Muahahahahahaaaaaaaa"})}}}},O=A,Z=(0,d.Z)(O,C,k,!1,null,"01f2d603",null),x=Z.exports,M={name:"HeaderMain",components:{ContainerMain:s.Z,LogoMain:p,AuthActions:y,AccountActions:x},computed:{...(0,w.Se)("auth",["isLoggedIn"])}},L=M,j=(0,d.Z)(L,r,i,!1,null,"84b24fde",null),N=j.exports,P=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"})},S=[],T={name:"FooterMain"},E=T,F=(0,d.Z)(E,P,S,!1,null,"25dd7d62",null),I=F.exports,U=function(){var t=this,e=t._self._c;return e("notifications",{attrs:{classes:"vue-notification"}})},D=[],H={name:"NotificationsMain"},q=H,B=(0,d.Z)(q,U,D,!1,null,"7f480542",null),$=B.exports,V={name:"App",components:{FooterMain:I,HeaderMain:N,NotificationsMain:$}},z=V,G=(0,d.Z)(z,o,a,!1,null,"0965f97e",null),K=G.exports,R=n(2631),Y=n(4399);const J=()=>n.e(70).then(n.bind(n,70)),Q=()=>n.e(166).then(n.bind(n,6166)),W=()=>n.e(994).then(n.bind(n,994)),X=()=>n.e(41).then(n.bind(n,6041)),tt=()=>n.e(737).then(n.bind(n,8737)),et=()=>n.e(449).then(n.bind(n,5449)),nt=[{path:"/",component:J,name:"home"},{path:"/apartment/:id",component:Q,name:"apartment",meta:{requiresAuth:!0}},{path:"/my-orders",component:et,name:"my-orders",meta:{requiresAuth:!0}},{path:"/login",component:X,name:"login-page",meta:{hideForAuth:!0}},{path:"/signIn",component:tt,name:"signIn-page",meta:{hideForAuth:!0}},{path:"*",component:W,name:"error"}],ot=new R.ZP({routes:nt,mode:"history"});ot.beforeEach(((t,e,n)=>{const o=Y["default"].getters["auth/isLoggedIn"];t.matched.some((t=>t.meta.requiresAuth))&&(o||n({name:"login-page"})),t.matched.some((t=>t.meta.hideForAuth))&&o&&n({name:"home-page"}),n()}));var at=ot,rt=n(6369),it=n(7131),st=n.n(it),ut=n(2806),ct=n.n(ut);rt["default"].config.productionTip=!1,rt["default"].use(R.ZP),rt["default"].use(st()),rt["default"].component("paginate",ct()),new rt["default"]({render:t=>t(K),router:at,store:Y["default"]}).$mount("#app")},4399:function(t,e,n){n.d(e,{default:function(){return p}});var o=n(3822),a=n(6369),r=n(8042);const i=async t=>r.Z.post("/users/login",t),s=async t=>r.Z.post("/users/register",t),u=async()=>r.Z.post("/users/logout"),c={user:null,token:""};var l={namespaced:!0,state:{...c},getters:{isLoggedIn(t){return Boolean(t.token)}},mutations:{setUserData(t,e){t.user=e},setToken(t,e){t.token=e},clearUserData(t){Object.assign(t,{...c})}},actions:{async login({commit:t},e){const{data:n}=await i(e),{user:o,token:a}=n;t("setUserData",o),t("setToken",a)},async signIn({commit:t},e){const{data:n}=await s(e),{user:o,token:a}=n;t("setUserData",o),t("setToken",a)},async logoutUser({commit:t}){await u(),t("clearUserData")}}},f=n(2415);a["default"].use(o.ZP);const d=(0,f.Z)({paths:["auth.token"]}),h=new o.ZP.Store({modules:{auth:l},plugins:[d]});var p=h},8042:function(t,e,n){var o=n(4161),a=n(4399);o.Z.defaults.baseURL="https://my-first-app-vue-backend.onrender.com/api",o.Z.interceptors.request.use((t=>{const{token:e}=a["default"].state.auth;return e&&(t.headers.Authorization=`Bearer ${e}`),t}),(t=>Promise.reject(t))),e.Z=o.Z},3296:function(t,e,n){t.exports=n.p+"img/logo.bd3a3f0b.svg"}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,r){if(!o){var i=1/0;for(l=0;l<t.length;l++){o=t[l][0],a=t[l][1],r=t[l][2];for(var s=!0,u=0;u<o.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[u])}))?o.splice(u--,1):(s=!1,r<i&&(i=r));if(s){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[o,a,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,o){return n.f[o](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{41:"42647a08",70:"1d657c16",166:"060d62bb",449:"f9e7e4b2",737:"555f72b1",994:"bf218f8e"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{41:"e2cc69af",70:"f32343f6",166:"c32fb695",449:"b72e429e",737:"16ad4c8e",994:"732cfd85"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-app-go-home:";n.l=function(o,a,r,i){if(t[o])t[o].push(a);else{var s,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==o||f.getAttribute("data-webpack")==e+r){s=f;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+r),s.src=o),t[o]=[a];var d=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var a=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="https://kolanuch13.github.io/vue-app-go-home/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,o,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(n){if(r.onerror=r.onload=null,"load"===n.type)o();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,r.parentNode&&r.parentNode.removeChild(r),a(u)}};return r.onerror=r.onload=i,r.href=e,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===t||r===e))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){a=i[o],r=a.getAttribute("data-href");if(r===t||r===e)return a}},o=function(o){return new Promise((function(a,r){var i=n.miniCssF(o),s=n.p+i;if(e(i,s))return a();t(o,s,null,a,r)}))},a={143:0};n.f.miniCss=function(t,e){var n={41:1,70:1,166:1,449:1,737:1,994:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=o(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}}(),function(){var t={143:0};n.f.j=function(e,o){var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)o.push(a[2]);else{var r=new Promise((function(n,o){a=t[e]=[n,o]}));o.push(a[2]=r);var i=n.p+n.u(e),s=new Error,u=function(o){if(n.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var r=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}};n.l(i,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,r,i=o[0],s=o[1],u=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)var l=u(n)}for(e&&e(o);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(l)},o=self["webpackChunkvue_app_go_home"]=self["webpackChunkvue_app_go_home"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3840)}));o=n.O(o)})();
//# sourceMappingURL=app.64dd855b.js.map