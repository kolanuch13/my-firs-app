"use strict";(self["webpackChunkmy_first_app"]=self["webpackChunkmy_first_app"]||[]).push([[166],{4449:function(t,e,a){a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"star-rating"},[t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--outlined"})})),e("div",{staticClass:"star-rating__colored",style:t.ratingWidthStyle},t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--colored"})})),0)],2)},i=[],s={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},r=s,o=a(1001),l=(0,o.Z)(r,n,i,!1,null,"bcb3cf50",null),c=l.exports},2152:function(t,e,a){a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-spacer"},[t._t("default")],2)},i=[],s={name:"SectionWithHeaderSpacer"},r=s,o=a(1001),l=(0,o.Z)(r,n,i,!1,null,"dc5892c8",null),c=l.exports},306:function(t,e,a){a.d(e,{Z:function(){return v}});var n=function(){var t=this,e=t._self._c;return e("button",t._g({class:{button:!0,"button--outlined":t.outlined},attrs:{type:t.type}},t.$listeners),[t.loading?e("CircleLoader",{staticClass:"button__loader",attrs:{width:"38",height:"38"}}):t._e(),e("span",{staticClass:"button__content",class:t.contentStyle},[t._t("default")],2)],1)},i=[],s=function(){var t=this,e=t._self._c;return e("span",{staticClass:"circle-loader"},[e("svg",{staticClass:"preloader-icon",style:t.style,attrs:{viewBox:"0 0 100 100",width:t.width,height:t.height}},[e("circle",{attrs:{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"}})])])},r=[],o={name:"CircleLoader",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},l=o,c=a(1001),u=(0,c.Z)(l,s,r,!1,null,"4e8dcacd",null),p=u.exports,d={name:"SubmitButton",components:{CircleLoader:p},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"button__content--hidden":this.loading}}}},m=d,h=(0,c.Z)(m,n,i,!1,null,"435db1b2",null),v=h.exports},6166:function(t,e,a){a.r(e),a.d(e,{default:function(){return X}});var n=function(){var t=this,e=t._self._c;return e("SectionWithHeaderSpacer",[e("main",{staticClass:"apartment-page"},[e("ContainerMain",[t.apartment?e("div",{staticClass:"apartment-page__content"},[e("ApartmentsInfo",{attrs:{apartment:t.apartment}}),e("div",{staticClass:"apartment-page__additional-info"},[e("ApartmentsOwner",{staticClass:"apartment-page__owner",attrs:{owner:t.apartment.owner}}),e("ReviewsItem",{attrs:{reviews:t.reviewsList}})],1)],1):t._e()])],1)])},i=[],s=a(5015),r=function(){var t=this,e=t._self._c;return e("article",{staticClass:"apartment-info"},[e("div",{staticClass:"apartment-info__heading"},[e("h1",{staticClass:"apartment-info__title"},[t._v(t._s(t.apartment.title))]),e("StarRating",{attrs:{rating:t.apartment.rating}})],1),e("img",{staticClass:"apartment-info__photo",attrs:{src:t.apartment.photo,alt:t.apartment.title}}),e("p",{staticClass:"apartment-info__description"},[t._v(t._s(t.apartment.descr))]),e("div",{staticClass:"apartment-info__button"},[e("SubmitButton",{attrs:{loading:t.isLoading},on:{click:t.handleAppartmentsBooking}},[t._v("Booking")])],1)])},o=[],l=a(4449),c=a(306),u=a(4769),p={name:"ApartmentsInfo",components:{StarRating:l.Z,SubmitButton:c.Z},props:{apartment:{type:Object,required:!0}},data(){return{isLoading:!1}},methods:{async handleAppartmentsBooking(){const t={apartmentId:this.$route.params.id,date:Date.now()};try{this.isLoading=!0,await(0,u.MQ)(t),this.$notify({type:"success",title:"Horraaay!",text:"Appartment successfully booked!"})}catch(e){this.$notify({type:"error",title:"Ooouups:(",text:e.message})}finally{this.isLoading=!1}}}},d=p,m=a(1001),h=(0,m.Z)(d,r,o,!1,null,"1c143879",null),v=h.exports,_=function(){var t=this,e=t._self._c;return e("section",{staticClass:"apartments-owner"},[e("h2",{staticClass:"apartments-owner__title"},[t._v("Information about owner:")]),e("p",{staticClass:"apartments-owner__info"},[t._v(t._s(t.owner.name))]),e("p",{staticClass:"apartments-owner__info"},[t._v("tel"+t._s(t.owner.phone))]),e("p",{staticClass:"apartments-owner__info"},[t._v("email"+t._s(t.owner.email))])])},w=[],g={name:"ApartmentsOwner",props:{owner:{type:Object,required:!0}}},f=g,y=(0,m.Z)(f,_,w,!1,null,"70877e00",null),C=y.exports,b=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reviews"},[e("div",{staticClass:"reviews__heading"},[e("h2",{staticClass:"reviews__title"},[t._v("Summary raiting")]),e("div",{staticClass:"reviews__rating"},[e("span",[t._v(t._s(t.amountIfReviews)+" reviews")]),e("StarRating",{attrs:{rating:t.totalRaiting}})],1)]),t._l(t.currentReviews,(function(t){return e("ReviewsItem",{key:t.author,attrs:{review:t}})})),e("button",{staticClass:"reviews__show-more",on:{click:t.toggleReviews}},[t._v("Read "+t._s(t.buttonText))])],2)},S=[],R=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reviews-item"},[e("ReviewsHeading",{attrs:{rating:t.review.rating,author:t.review.author}}),e("p",{staticClass:"reviews-item__content"},[t._v(" "+t._s(t.review.content)+" ")])],1)},Z=[],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviews-heading"},[e("ReviewsAvatar",{staticClass:"reviews-heading__avatar"}),e("div",{staticClass:"reviews-heading__content"},[e("span",{staticClass:"reviews-heading__author"},[t._v(t._s(t.author))]),e("StarRating",{attrs:{rating:t.rating}})],1)],1)},x=[],L=function(){var t=this,e=t._self._c;return e("img",{attrs:{src:a(2589),alt:"avatar"}})},k=[],A={name:"ReviewsAvatar"},T=A,$=(0,m.Z)(T,L,k,!1,null,null,null),B=$.exports,O={name:"ReviewsHeading",components:{StarRating:l.Z,ReviewsAvatar:B},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}},H=O,q=(0,m.Z)(H,I,x,!1,null,"69d90035",null),W=q.exports,N={name:"ReviewsItem",components:{ReviewsHeading:W},props:{review:{type:Object,required:!0}}},M=N,j=(0,m.Z)(M,R,Z,!1,null,"7ee020f8",null),D=j.exports,J={name:"ReviewsList",components:{ReviewsItem:D,StarRating:l.Z},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRaiting(){const t=this.reviews.reduce(((t,e)=>t+e.rating),0);return t/this.reviews.length},amountIfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"less":"more"}},methods:{toggleReviews(){this.reviewsLimit===this.reviews.length?this.reviewsLimit=2:this.reviewsLimit=this.reviews.length}}},z=J,Q=(0,m.Z)(z,b,S,!1,null,"674a1866",null),U=Q.exports,E=JSON.parse('[{"author":"John Doe","content":"I absolutely loved this apartment! The spacious layout, modern amenities, and stunning views made it a dream come true. The location was perfect, with easy access to shops, restaurants, and parks. I highly recommend it!","rating":5},{"author":"Emily Smith","content":"This apartment exceeded my expectations. The stylish decor, comfortable furnishings, and well-equipped kitchen made it a cozy and inviting space. The location was convenient, with public transportation nearby. I would definitely give it a solid 4 out of 5!","rating":4.5},{"author":"Alex Johnson","content":"I had a great experience staying in this apartment. It had everything I needed for a comfortable stay. The owner was friendly and responsive to any questions I had. The only downside was the occasional noise from the street. Overall, I would rate it a 3 out of 5.","rating":3.2},{"author":"Sophia Davis","content":"This apartment was a disappointment. The cleanliness was subpar, and the amenities were lacking. The location, however, was convenient with easy access to public transportation. I would rate it a 2 out of 5.","rating":2.7}]'),P=a(2152),F=a(1438),G={name:"ApartmentPage",components:{ContainerMain:s.Z,ApartmentsInfo:v,ApartmentsOwner:C,ReviewsItem:U,SectionWithHeaderSpacer:P.Z},data(){return{apartment:null}},computed:{reviewsList(){return E}},async created(){try{const{id:t}=this.$route.params,{data:e}=await(0,F.I)(t);this.apartment=e}catch(t){console.log(t)}}},K=G,V=(0,m.Z)(K,n,i,!1,null,"58f4a534",null),X=V.exports},1438:function(t,e,a){a.d(e,{I:function(){return s},U:function(){return i}});var n=a(8042);const i=(t,e)=>n.Z.get(`/apartments?page=${t}&size=${e}`),s=t=>n.Z.get(`/apartments/${t}`)},4769:function(t,e,a){a.d(e,{AU:function(){return s},MQ:function(){return i},wH:function(){return r}});var n=a(8042);const i=t=>n.Z.post("/orders",t),s=()=>n.Z.get("/orders"),r=t=>n.Z["delete"](`/orders/${t}`)},2589:function(t,e,a){t.exports=a.p+"img/avatar.cc83cec5.svg"}}]);
//# sourceMappingURL=166.81eb55cd.js.map